<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=<device-width>, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">    
    <title>Document</title>
</head>
<body>
    <div class="title">Free <strong>Rock - Paper - Scissors</strong> game</div>
    <p>Play 5 rounds for finding out who the winner is! </p>
    <div class="btn-player">
        <div class="player-id">YOU</div>
        <div>
            <button type="button", data-weapon="rock">Rock</button>
            <button type="button", data-weapon="paper">Paper</button>
            <button type="button", data-weapon="scissors">Scissors</button>
        </div>
    </div>

    <div class="btn-computer">
        <div class="player-id">Robot</div>
        <div>
            <button type="button", data-weapon="rock">Rock</button>
            <button type="button", data-weapon="paper">Paper</button>
            <button type="button", data-weapon="scissors">Scissors</button>
        </div>
    </div>

    <div class="result">
        <div id="intermediate"></div>
        <div id="running-score"></div>
        <div id="final"></div>
        <div id="play-again"></div>

    </div>
    <script>
        
    const displayResult = document.querySelector('#intermediate');
    const displayResultf = document.querySelector('#final');
    const runningScore = document.querySelector('#running-score');
    const playAgain = document.querySelector('#play-again');

    function randomWeapon(){
        let weapon = "";
        weaponID = Math.ceil((Math.random()*3));
        if (weaponID == 1) weapon = "rock";
        if (weaponID == 2) weapon = "paper";
        if (weaponID == 3) weapon = "scissors";
        return weapon;
    }

    function rules(playerRound, computerRound){
        let roundDraw = 0;
        let roundComputer = 0;
        let roundPlayer = 0;
        if (playerRound == "rock"){
                if (computerRound == "rock") roundDraw = 1;
                if (computerRound == "paper") roundComputer = 1;
                if (computerRound == "scissors") roundPlayer = 1;
            } else if (playerRound == "paper"){
                if (computerRound == "rock") roundPlayer = 1;
                if (computerRound == "paper") roundDraw = 1;
                if (computerRound == "scissors") roundComputer = 1;
            } else if (playerRound == "scissors"){
                if (computerRound == "rock") roundComputer = 1;
                if (computerRound == "paper") roundPlayer = 1;
                if (computerRound == "scissors") roundDraw = 1;
            } 
        return [roundPlayer, roundComputer, roundDraw];    
    }

    function clickedWeapon(e) {
        const selectedWeapon = e.target.getAttribute('data-weapon'); 
        return selectedWeapon;
    } 

    function play(e){ 
        const playerRound = clickedWeapon(e);
        const computerRound = randomWeapon();
        const result = rules(playerRound, computerRound);
        let roundPlayer = result[0];
        let roundComputer = result[1];
        let roundDraw = result[2];

        if (roundDraw ==1) displayResult.textContent = "It's a draw";
        if (roundPlayer ==1) displayResult.textContent = "You scored";
        if (roundComputer ==1) displayResult.textContent = "Computer scored";
        
        if (roundPlayer ==1) scorePlayer+= 1;
        if (roundComputer ==1) scoreComputer++ ;
        runningScore.textContent = "You: " + scorePlayer + '\xa0'+"- - -"+'\xa0'+ "Computer:" + scoreComputer;
       
        if (scorePlayer==5) {
            displayResultf.textContent = 'YOU ARE THE WINNER !!!!!';
            playAgain.textContent = 'Click to play again';
            scorePlayer = 0;
            scoreComputer = 0; 
            return;
        }    
        if (scoreComputer==5){
            displayResultf.textContent = 'You lost :('; 
            playAgain.textContent = 'Wanna plaz again? Click on weapon!';
            scorePlayer = 0;
            scoreComputer = 0; 
            return;
        } 
 
    }





    let scorePlayer = 0;
    let scoreComputer = 0;    
    const playerWeapon = document.querySelector('.btn-player');
    playerWeapon.addEventListener('click', play);



    </script>

</body>
</html>